// $Id$

- Install lighty with mod_websocket

1.Get the lighttpd source from

  http://www.lighttpd.net/download/

  $ tar xzvf lighttpd-1.4.x.tar.gz

2.Patch the source

  $ cd lighttpd-1.4.x/
  $ patch -p1 < mod_websocket.patch

  note: this patch contains a mod-connect.patch 
  ( http://redmine.lighttpd.net/attachments/997/mod-connect.patch )

3.copy mod_websocket.c into src dir and make lighty.

  $ cp mod_websocket.c lighttd-1.4.x/src/
  $ cd lighttpd-1.4.x

  When you configure the first, do autogen.sh at once.
  (because of patched src/Makefile.am)

  $ ./autogen.sh

  $ ./configure --with-your-options
  $ make
  $ sudo make install

4. check for mod_websocket.so

  $ cd lighttd-1.4.x/src/.libs
  $ ls -l mod_websocket.*

  or 

  $ ls -l /usr/local/lib/mod_websocket.*

  If mod_websocket.* exists in dir, you can use mod_websocket!
  Write lighttpd.conf like below.

5.Add setting for mod_websocket into lighttpd.conf

  5-1. add websocket module into server.modules section.

  server.modules              = ( "mod_websocket", ... )

  5-2. add websocket.server section like this.

  websocket.server = (
  		     "/echo" => ( "host" => "127.0.0.1",
		                  "port" => 7 ),
		     "/func" => ( "host" => "192.168.0.10",
		                  "port" => 8000 )
                     )

// EOF
